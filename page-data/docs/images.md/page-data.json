{"componentChunkName":"component---src-templates-doc-template-js","path":"/docs/images.md","result":{"data":{"markdownRemark":{"html":"<h1 id=\"images\" style=\"position:relative;\"><a href=\"#images\" aria-label=\"images permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Images</h1>\n<p>If you are using the Component module and doing something simple, you probably won't need to use these classes; use <code class=\"language-text\">SpriteComponent</code> or <code class=\"language-text\">AnimationComponent</code> instead.</p>\n<p>You must have an appropriate folder structure and add the files to the <code class=\"language-text\">pubspec.yaml</code> file, like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">flutter</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">assets</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> assets/images/player.png\n    <span class=\"token punctuation\">-</span> assets/images/enemy.png</code></pre></div>\n<p>It has to be a PNG file and it can have transparency.</p>\n<h2 id=\"sprite\" style=\"position:relative;\"><a href=\"#sprite\" aria-label=\"sprite permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sprite</h2>\n<p>Flame offers a <code class=\"language-text\">Sprite</code> class that represents a piece of an image (or the whole).</p>\n<p>You can create a <code class=\"language-text\">Sprite</code> giving it a pre-loaded <code class=\"language-text\">Image</code> via the <code class=\"language-text\">fromImage</code> constructor, or you can use the nameless constructor to pass a file name and have the image loaded asynchronously.</p>\n<p>For example, this will create a sprite representing the whole image of the file passed, automatically triggering its loading:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">    Sprite player <span class=\"token operator\">=</span> <span class=\"token function\">Sprite</span><span class=\"token punctuation\">(</span><span class=\"token string\">'player.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>You could also specify the coordinates in the original image where the sprite is located. This allows you to use sprite sheets and reduce the number of images in memory, for example:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">    Sprite playerFrame <span class=\"token operator\">=</span> <span class=\"token function\">Sprite</span><span class=\"token punctuation\">(</span><span class=\"token string\">'player.png'</span><span class=\"token punctuation\">,</span> x <span class=\"token operator\">=</span> <span class=\"token number\">32.0</span><span class=\"token punctuation\">,</span> width <span class=\"token operator\">=</span> <span class=\"token number\">16.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The default values are <code class=\"language-text\">0.0</code> for <code class=\"language-text\">x</code> and <code class=\"language-text\">y</code> and <code class=\"language-text\">null</code> for <code class=\"language-text\">width</code> and <code class=\"language-text\">height</code> (meaning it will use the full width/height of the source image).</p>\n<p>The <code class=\"language-text\">Sprite</code> class has a <code class=\"language-text\">loaded</code> method that returns whether the image has been loaded, and a render method, that allows you to render the image onto a <code class=\"language-text\">Canvas</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">    Sprite block <span class=\"token operator\">=</span> <span class=\"token function\">Sprite</span><span class=\"token punctuation\">(</span><span class=\"token string\">'block.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// in your render method</span>\n    block<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>canvas<span class=\"token punctuation\">,</span> <span class=\"token number\">16.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//canvas, width, height</span></code></pre></div>\n<p>You must pass the size to the render method, and the image will be resized accordingly.</p>\n<p>The render method will do nothing while the sprite has not been loaded, so you don't need to worry. The image is cached in the <code class=\"language-text\">Images</code> class, so you can safely create many sprites with the same filename.</p>\n<p>All render methods from the Sprite class can receive a <code class=\"language-text\">Paint</code> instance as the optional named parameter <code class=\"language-text\">overridePaint</code> that parameter will override the current <code class=\"language-text\">Sprite</code> paint instance for that render call.</p>\n<p>Sprites can also be used as widgets, to do so just use <code class=\"language-text\">Flame.util.spriteAsWidget</code></p>\n<p>A complete example using sprite as widgets can be found <a href=\"https://github.com/flame-engine/flame/blob/master/doc/examples/animation_widget\">here</a>.</p>\n<h2 id=\"spritebatch\" style=\"position:relative;\"><a href=\"#spritebatch\" aria-label=\"spritebatch permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SpriteBatch</h2>\n<p>If you have a sprite sheet (also called an image atlas, which is an image with smaller images inside), and would like to render it effectively - <code class=\"language-text\">SpriteBatch</code> does the job.</p>\n<p>Give it the filename of the image, and then add rectangles which describes various part of the image, in addition to transforms (position, scale and rotation) and optional colors.</p>\n<p>You render it with a <code class=\"language-text\">Canvas</code> and an optional <code class=\"language-text\">Paint</code>, <code class=\"language-text\">BlendMode</code> and <code class=\"language-text\">CullRect</code>.</p>\n<p>A <code class=\"language-text\">SpriteBatchComponent</code> is also available for your convenience.</p>\n<p>See example <a href=\"https://github.com/flame-engine/flame/blob/master/doc/examples/sprite_batch\">here</a>.</p>\n<h2 id=\"svg\" style=\"position:relative;\"><a href=\"#svg\" aria-label=\"svg permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Svg</h2>\n<p>Flame provides a simple API to render SVG images in your game.</p>\n<p>Svg support is provided by the <code class=\"language-text\">flame_svg</code> external package, be sure to put it on your pubspec to use it</p>\n<p>To use it just import the <code class=\"language-text\">Svg</code> class from <code class=\"language-text\">&#39;package:flame_svg/flame_svg.dart&#39;</code>, and use the following snippet to render it on the canvas:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">    Svg svgInstance <span class=\"token operator\">=</span> <span class=\"token function\">Svg</span><span class=\"token punctuation\">(</span><span class=\"token string\">'android.svg'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">final</span> position <span class=\"token operator\">=</span> <span class=\"token function\">Position</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">final</span> width <span class=\"token operator\">=</span> <span class=\"token number\">300</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">final</span> height <span class=\"token operator\">=</span> <span class=\"token number\">300</span><span class=\"token punctuation\">;</span>\n\n    svgInstance<span class=\"token punctuation\">.</span><span class=\"token function\">renderPosition</span><span class=\"token punctuation\">(</span>canvas<span class=\"token punctuation\">,</span> position<span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"flameimages\" style=\"position:relative;\"><a href=\"#flameimages\" aria-label=\"flameimages permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Flame.images</h2>\n<p>The <code class=\"language-text\">Flame.images</code> is a lower level utility for loading images, very similar to the <code class=\"language-text\">Flame.audio</code> instance.</p>\n<p>Flutter has a collection of types related to images, and converting everything properly from a local asset to the Image that can be drawn on Canvas is a bit of a pain. This class allows you to obtain an Image that can be drawn on a Canvas using the <code class=\"language-text\">drawImageRect</code> method.</p>\n<p>It automatically caches any image loaded by filename, so you can safely call it many times.</p>\n<p>To load and draw an image, you can use the <code class=\"language-text\">load</code> method, like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">    <span class=\"token keyword\">import</span> <span class=\"token string\">'package:flame/flame.dart'</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// inside an async context</span>\n    Image image <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Flame<span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token string\">'player.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// or</span>\n    Flame<span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token string\">'player.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>Image image<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">var</span> paint <span class=\"token operator\">=</span> <span class=\"token function\">Paint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>color <span class=\"token operator\">=</span> <span class=\"token function\">Color</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xffffffff</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">var</span> rect <span class=\"token operator\">=</span> Rect<span class=\"token punctuation\">.</span><span class=\"token function\">fromLTWH</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.0</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">.</span><span class=\"token function\">toDouble</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">.</span><span class=\"token function\">toDouble</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      canvas<span class=\"token punctuation\">.</span><span class=\"token function\">drawImageRect</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> rect<span class=\"token punctuation\">,</span> rect<span class=\"token punctuation\">,</span> paint<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The methods for loading and clearing the cache are identical to the Audio ones: <code class=\"language-text\">load</code>, <code class=\"language-text\">loadAll</code>, <code class=\"language-text\">clear</code> and <code class=\"language-text\">clearAll</code>. They return a <code class=\"language-text\">Future</code> for the Image loaded.</p>\n<p>Also similarly to Audio, you can instantiate your own copy of <code class=\"language-text\">Images</code> (each instance shares a different cache):</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">    Image image <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Images</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token string\">'asd'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"animation\" style=\"position:relative;\"><a href=\"#animation\" aria-label=\"animation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Animation</h2>\n<p>The Animation class helps you create a cyclic animation of sprites.</p>\n<p>You can create it by passing a list of equally sized sprites and the stepTime (that is, how many seconds it takes to move to the next frame):</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">  Animation a <span class=\"token operator\">=</span> Animation<span class=\"token punctuation\">.</span><span class=\"token function\">spriteList</span><span class=\"token punctuation\">(</span>sprites<span class=\"token punctuation\">,</span> stepTime<span class=\"token punctuation\">:</span> <span class=\"token number\">0.02</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>After the animation is created, you need to call its <code class=\"language-text\">update</code> method and render the current frame's sprite on your game instance, for example:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyGame</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Game</span> <span class=\"token punctuation\">{</span>\n  Animation a<span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">MyGame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    a <span class=\"token operator\">=</span> <span class=\"token function\">Animation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">void</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span>double dt<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    a<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">void</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span>Canvas c<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    a<span class=\"token punctuation\">.</span><span class=\"token function\">getSprite</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>A better alternative to generate a list of sprites is to use the <code class=\"language-text\">sequenced</code> constructor:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">  <span class=\"token keyword\">const</span> amountOfFrames <span class=\"token operator\">=</span> <span class=\"token number\">8</span><span class=\"token punctuation\">;</span>\n  Animation a <span class=\"token operator\">=</span> Animation<span class=\"token punctuation\">.</span><span class=\"token function\">sequenced</span><span class=\"token punctuation\">(</span><span class=\"token string\">'player.png'</span><span class=\"token punctuation\">,</span> amountOfFrames<span class=\"token punctuation\">,</span> textureWidth<span class=\"token punctuation\">:</span> <span class=\"token number\">16.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>In which you pass the file name, the number of frames and the sprite sheet is automatically split for you according to the 4 optional parameters:</p>\n<ul>\n<li>textureX : x position on the original image to start (defaults to 0)</li>\n<li>textureY : y position on the original image to start (defaults to 0)</li>\n<li>textureWidth : width of each frame (defaults to null, that is, full width of the sprite sheet)</li>\n<li>textureHeight : height of each frame (defaults to null, that is, full height of the sprite sheet)</li>\n<li>destroyOnFinish : a bool indicating if this AnimationComponent should be destroyed when the animation has reached its end</li>\n</ul>\n<p>So, in our example, we are saying that we have 8 frames for our player animation, and they are displayed in a row. So if the player height is also 16 pixels, the sprite sheet is 128x16, containing 8 16x16 frames.</p>\n<p>This constructor makes creating an Animation very easy using sprite sheets.</p>\n<p>If you use Aseprite for your animations, Flame does provide some support for Aseprite animation's JSON data. To use this feature you will need to export the Sprite Sheet's JSON data, and use something like the following snippet:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">    Animation animation <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Animation<span class=\"token punctuation\">.</span><span class=\"token function\">fromAsepriteData</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"chopper.png\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Sprite Sheet image path</span>\n      <span class=\"token string\">\"./assets/chopper.json\"</span> <span class=\"token comment\">// Sprite Sheet animation JSON data</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><em>Note: trimmed sprite sheets are not supported by flame, so if you export your sprite sheet this way, it will have the trimmed size, not the sprite original size.</em></p>\n<p>Animations, after created, have an update and render method; the latter renders the current frame, and the former ticks the internal clock to update the frames.</p>\n<p>Animations are normally used inside <code class=\"language-text\">AnimationComponent</code>s, but custom components with several Animations can be created as well.</p>\n<p>Animations can also be used as widgets, to do so, just use <code class=\"language-text\">Flame.util.animationAsWidget</code></p>\n<p>A complete example of using animations as widgets can be found <a href=\"https://github.com/flame-engine/flame/blob/master/doc/examples/animation_widget\">here</a>.</p>\n<h2 id=\"flareanimation\" style=\"position:relative;\"><a href=\"#flareanimation\" aria-label=\"flareanimation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FlareAnimation</h2>\n<p>Flame provides a simple wrapper of <a href=\"https://rive.app/#LearnMore\">Flare</a> animations so you can use them in Flame games.</p>\n<p>Check the following snippet on how to use this wrapper:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyGame</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Game</span> <span class=\"token punctuation\">{</span>\n  FlareAnimation flareAnimation<span class=\"token punctuation\">;</span>\n  bool loaded <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">MyGame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">_start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">void</span> <span class=\"token function\">_start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">{</span>\n    flareAnimation <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> FlareAnimation<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"assets/FLARE_FILE.flr\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    flareAnimation<span class=\"token punctuation\">.</span><span class=\"token function\">updateAnimation</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ANIMATION_NAME\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    flareAnimation<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> <span class=\"token number\">306</span><span class=\"token punctuation\">;</span>\n    flareAnimation<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> <span class=\"token number\">228</span><span class=\"token punctuation\">;</span>\n\n    loaded <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token metadata symbol\">@override</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">render</span><span class=\"token punctuation\">(</span>Canvas canvas<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>loaded<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      flareAnimation<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>canvas<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token metadata symbol\">@override</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">update</span><span class=\"token punctuation\">(</span>double dt<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>loaded<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      flareAnimation<span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span>dt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>FlareAnimations are normally used inside <code class=\"language-text\">FlareComponent</code>s, that way <code class=\"language-text\">BaseGame</code> will handle calling <code class=\"language-text\">render</code> and <code class=\"language-text\">update</code> automatically.\nYou can see a full example of the SpriteSheet class <a href=\"https://github.com/flame-engine/flame/blob/master/doc/examples/flare\">here</a>.</p>\n<h2 id=\"spritesheet\" style=\"position:relative;\"><a href=\"#spritesheet\" aria-label=\"spritesheet permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SpriteSheet</h2>\n<p>Sprite sheets are big images with several frames of the same sprite on it and is a very good way to organize and keep your animations stored. Flame provides a very simple utility class to deal with SpriteSheets, with it you can load your sprite sheet image and extract animations from it. Below is a very simple example of how to use it:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token keyword\">import</span> <span class=\"token string\">'package:flame/spritesheet.dart'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">final</span> spritesheet <span class=\"token operator\">=</span> <span class=\"token function\">SpriteSheet</span><span class=\"token punctuation\">(</span>\n  imageName<span class=\"token punctuation\">:</span> <span class=\"token string\">'spritesheet.png'</span><span class=\"token punctuation\">,</span>\n  textureWidth<span class=\"token punctuation\">:</span> <span class=\"token number\">16</span><span class=\"token punctuation\">,</span>\n  textureHeight<span class=\"token punctuation\">:</span> <span class=\"token number\">16</span><span class=\"token punctuation\">,</span>\n  columns<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n  rows<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">final</span> animation <span class=\"token operator\">=</span> spritesheet<span class=\"token punctuation\">.</span><span class=\"token function\">createAnimation</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> stepTime<span class=\"token punctuation\">:</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now you can use the animation directly or use it in an animation component.</p>\n<p>You can also get a single frame of the sprite sheet using the <code class=\"language-text\">getSprite</code> method:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">spritesheet<span class=\"token punctuation\">.</span><span class=\"token function\">getSprite</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// row, column;</span></code></pre></div>\n<p>You can see a full example of the SpriteSheet class <a href=\"https://github.com/flame-engine/flame/blob/master/doc/examples/spritesheet\">here</a>.</p>","frontmatter":{"path":"/docs/images.md","title":"Images, Sprites and Animations"}}},"pageContext":{}}}