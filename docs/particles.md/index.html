<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><title> Flame </title><style data-href="/styles.ad0d2eec16585613ab98.css">@import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,900);a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;box-sizing:border-box}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1;font-family:Source Sans Pro,sans-serif}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}img{max-width:100%}a{text-decoration:none}.github-btn{font:700 11px/14px Helvetica Neue,Helvetica,Arial,sans-serif;height:20px;overflow:hidden}.gh-btn,.gh-count,.gh-ico{float:left}.gh-btn,.gh-count{padding:2px 5px 2px 4px;color:#333;text-decoration:none;white-space:nowrap;cursor:pointer;border-radius:3px}.gh-btn{background-color:#eee;background-image:linear-gradient(180deg,#fcfcfc 0,#eee);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#fcfcfc",endColorstr="#eeeeee",GradientType=0);background-repeat:no-repeat;border:1px solid #d5d5d5}.gh-btn:focus,.gh-btn:hover{text-decoration:none;background-color:#ddd;background-image:linear-gradient(180deg,#eee 0,#ddd);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#eeeeee",endColorstr="#dddddd",GradientType=0);border-color:#ccc}.gh-btn:active{background-image:none;background-color:#dcdcdc;border-color:#b5b5b5;box-shadow:inset 0 2px 4px rgba(0,0,0,.15)}.gh-ico{width:14px;height:14px;margin-right:4px;background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMTIgMTIgNDAgNDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMTIgMTIgNDAgNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGZpbGw9IiMzMzMzMzMiIGQ9Ik0zMiAxMy40Yy0xMC41IDAtMTkgOC41LTE5IDE5YzAgOC40IDUuNSAxNS41IDEzIDE4YzEgMC4yIDEuMy0wLjQgMS4zLTAuOWMwLTAuNSAwLTEuNyAwLTMuMiBjLTUuMyAxLjEtNi40LTIuNi02LjQtMi42QzIwIDQxLjYgMTguOCA0MSAxOC44IDQxYy0xLjctMS4yIDAuMS0xLjEgMC4xLTEuMWMxLjkgMC4xIDIuOSAyIDIuOSAyYzEuNyAyLjkgNC41IDIuMSA1LjUgMS42IGMwLjItMS4yIDAuNy0yLjEgMS4yLTIuNmMtNC4yLTAuNS04LjctMi4xLTguNy05LjRjMC0yLjEgMC43LTMuNyAyLTUuMWMtMC4yLTAuNS0wLjgtMi40IDAuMi01YzAgMCAxLjYtMC41IDUuMiAyIGMxLjUtMC40IDMuMS0wLjcgNC44LTAuN2MxLjYgMCAzLjMgMC4yIDQuNyAwLjdjMy42LTIuNCA1LjItMiA1LjItMmMxIDIuNiAwLjQgNC42IDAuMiA1YzEuMiAxLjMgMiAzIDIgNS4xYzAgNy4zLTQuNSA4LjktOC43IDkuNCBjMC43IDAuNiAxLjMgMS43IDEuMyAzLjVjMCAyLjYgMCA0LjYgMCA1LjJjMCAwLjUgMC40IDEuMSAxLjMgMC45YzcuNS0yLjYgMTMtOS43IDEzLTE4LjFDNTEgMjEuOSA0Mi41IDEzLjQgMzIgMTMuNHoiLz48L3N2Zz4=");background-size:100% 100%;background-repeat:no-repeat}.gh-count{position:relative;display:none;margin-left:4px;background-color:#fafafa;border:1px solid #d4d4d4}.gh-count:focus,.gh-count:hover{color:#4183c4}.gh-count:after,.gh-count:before{content:"";position:absolute;display:inline-block;width:0;height:0;border-color:transparent;border-style:solid}.gh-count:before{top:50%;left:-3px;margin-top:-4px;border-width:4px 4px 4px 0;border-right-color:#fafafa}.gh-count:after{top:50%;left:-4px;z-index:-1;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#d4d4d4}.github-btn-large{height:30px}.github-btn-large .gh-btn,.github-btn-large .gh-count{padding:3px 10px 3px 8px;font-size:16px;line-height:22px;border-radius:4px}.github-btn-large .gh-ico{width:20px;height:20px}.github-btn-large .gh-count{margin-left:6px}.github-btn-large .gh-count:before{left:-5px;margin-top:-6px;border-width:6px 6px 6px 0}.github-btn-large .gh-count:after{left:-6px;margin-top:-7px;border-width:7px 7px 7px 0}code[class*=language-],pre[class*=language-]{font-family:Consolas,Monaco,Andale Mono,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{color:#a9b7c6}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{color:inherit;background:rgba(33,66,131,.85)}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-]{color:#292929;font-size:.8em}pre[class*=language-]{background:#2b2b2b}:not(pre)>code[class*=language-]{background:#dcdcdc;padding:.5em;border-radius:.3em;margin:0 .4em}.token.cdata,.token.comment,.token.prolog{color:grey}.token.atrule,.token.boolean,.token.delimiter,.token.important,.token.keyword,.token.selector{color:#cc7832}.token.attr-name,.token.operator,.token.punctuation{color:#a9b7c6}.token.builtin,.token.doctype,.token.tag,.token.tag .punctuation{color:#e8bf6a}.token.entity,.token.number,.token.symbol{color:#6897bb}.token.constant,.token.property,.token.variable{color:#9876aa}.token.char,.token.string{color:#6a8759}.token.attr-value,.token.attr-value .punctuation{color:#a5c261}.token.attr-value .punctuation:first-child{color:#a9b7c6}.token.url{color:#287bde;text-decoration:underline}.token.function{color:#ffc66d}.token.regex{background:#364135}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.inserted{background:#294436}.token.deleted{background:#484a4a}code.language-css .token.property,code.language-css .token.property+.token.punctuation{color:#a9b7c6}code.language-css .token.id,code.language-css .token.selector>.token.attribute,code.language-css .token.selector>.token.class,code.language-css .token.selector>.token.pseudo-class,code.language-css .token.selector>.token.pseudo-element{color:#ffc66d}</style><meta name="generator" content="Gatsby 2.20.22"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-react-helmet="true"> Particles | Flame</title><meta data-react-helmet="true" name="description" content="2D game engine made on top of Flutter"/><meta data-react-helmet="true" property="og:title" content=" Particles | Flame"/><meta data-react-helmet="true" property="og:description" content="2D game engine made on top of Flutter"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content=" Particles | Flame"/><meta data-react-helmet="true" name="twitter:description" content="2D game engine made on top of Flutter"/><link rel="icon" href="/icons/icon-48x48.png?v=96d48c81f3fc6a086a7f09cefe117fc0"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#D20101"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=96d48c81f3fc6a086a7f09cefe117fc0"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=96d48c81f3fc6a086a7f09cefe117fc0"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=96d48c81f3fc6a086a7f09cefe117fc0"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=96d48c81f3fc6a086a7f09cefe117fc0"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=96d48c81f3fc6a086a7f09cefe117fc0"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=96d48c81f3fc6a086a7f09cefe117fc0"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=96d48c81f3fc6a086a7f09cefe117fc0"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=96d48c81f3fc6a086a7f09cefe117fc0"/><style data-styled="cSGNnN cjJhep iLjzWv dqnNuP chcaik jgustr" data-styled-version="4.4.1">
/* sc-component-id: UI__Container-sc-1jeq2se-0 */
.cSGNnN{margin:0 auto;max-width:80rem;padding:0 0.8rem;}
/* sc-component-id: UI__DocsStructure-sc-1jeq2se-2 */
.cjJhep{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-top:4rem;padding-bottom:2em;max-width:100%;}
/* sc-component-id: MarkdownBody-dre1hu-0 */
.jgustr{color:#24292e;line-height:1.5;font-size:1.25em;line-height:1.5;word-wrap:break-word;min-height:70vh;-webkit-flex:1;-ms-flex:1;flex:1;max-width:calc(100% - 280px);} .jgustr details{paddisplay:block;} .jgustr summary{display:list-item;} .jgustr a{background-color:transparent;} .jgustr a:active,.jgustr a:hover{outline-width:0;} .jgustr strong{font-weight:inherit;font-weight:bolder;} .jgustr img{border-style:none;} .jgustr code,.jgustr kbd,.jgustr pre{font-family:monospace,monospace;font-size:1em;} .jgustr hr{box-sizing:content-box;height:0;overflow:visible;} .jgustr input{font:inherit;margin:0;} .jgustr input{overflow:visible;} .jgustr a{color:#0366d6;-webkit-text-decoration:none;text-decoration:none;} .jgustr a:hover{-webkit-text-decoration:underline;text-decoration:underline;} .jgustr strong{font-weight:600;} .jgustr hr{background:transparent;border:0;border-bottom:1px solid #dfe2e5;height:0;margin:15px 0;overflow:hidden;} .jgustr hr:before{content:"";display:table;} .jgustr hr:after{clear:both;content:"";display:table;} .jgustr table{border-collapse:collapse;border-spacing:0;} .jgustr td,.jgustr th{padding:0;} .jgustr details summary{cursor:pointer;} .jgustr h1,.jgustr h2,.jgustr h3,.jgustr h4,.jgustr h5,.jgustr h6{margin-bottom:0;margin-top:0;} .jgustr h1,.jgustr h2{font-weight:600;} .jgustr h2{font-size:24px;} .jgustr h3{font-size:20px;} .jgustr h3,.jgustr h4{font-weight:600;} .jgustr h4{font-size:16px;} .jgustr h5{font-size:14px;} .jgustr h5,.jgustr h6{font-weight:600;} .jgustr h6{font-size:12px;} .jgustr p{margin-bottom:10px;margin-top:0;} .jgustr blockquote{margin:0;} .jgustr ol,.jgustr ul{margin-bottom:0;margin-top:0;padding-left:0;} .jgustr ol ol,.jgustr ul ol{list-style-type:lower-roman;} .jgustr ol ol ol,.jgustr ol ul ol,.jgustr ul ol ol,.jgustr ul ul ol{list-style-type:lower-alpha;} .jgustr dd{margin-left:0;} .jgustr code,.jgustr pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;} .jgustr pre{margin-bottom:0;margin-top:0;} .jgustr input::-webkit-inner-spin-button,.jgustr input::-webkit-outer-spin-button{-webkit-appearance:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0;} .jgustr .markdown-body:before{content:"";display:table;} .jgustr .markdown-body:after{clear:both;content:"";display:table;} .jgustr .markdown-body >:first-child{margin-top:0 !important;} .jgustr .markdown-body >:last-child{margin-bottom:0 !important;} .jgustr a:not([href]){color:inherit;-webkit-text-decoration:none;text-decoration:none;} .jgustr blockquote,.jgustr dl,.jgustr ol,.jgustr p,.jgustr pre,.jgustr table,.jgustr ul{margin-bottom:25px;margin-top:10px;} .jgustr hr{background-color:#e1e4e8;border:0;height:0.25em;margin:24px 0;padding:0;} .jgustr blockquote{border-left:0.25em solid #dfe2e5;color:#6a737d;padding:0 1em;} .jgustr blockquote >:first-child{margin-top:0;} .jgustr blockquote >:last-child{margin-bottom:0;} .jgustr kbd{background-color:#fafbfc;border:1px solid #c6cbd1;border-bottom-color:#959da5;border-radius:3px;box-shadow:inset 0 -1px 0 #959da5;color:#444d56;display:inline-block;font-size:11px;line-height:10px;padding:3px 5px;vertical-align:middle;} .jgustr h1,.jgustr h2,.jgustr h3,.jgustr h4,.jgustr h5,.jgustr h6{font-weight:600;line-height:1.25;margin-bottom:16px;margin-top:24px;} .jgustr h1{font-size:2em;color:#fff;padding:0.5rem 1rem;background-color:#D20101;display:inline-block;} .jgustr h2{padding-bottom:0.3em;line-height:2;font-size:1.8em;color:#d20301;font-weight:400;} .jgustr h3{font-size:1.25em;} .jgustr h4{font-size:1em;} .jgustr h5{font-size:0.875em;} .jgustr h6{color:#6a737d;font-size:0.85em;} .jgustr ol,.jgustr ul{padding-left:2em;} .jgustr ol ol,.jgustr ol ul,.jgustr ul ol,.jgustr ul ul{margin-bottom:0;margin-top:0;} .jgustr li{word-wrap:break-all;list-style-type:disc;} .jgustr li > p{margin-top:16px;} .jgustr li + li{margin-top:0.25em;} .jgustr dl{padding:0;} .jgustr dl dt{font-size:1em;font-style:italic;font-weight:600;margin-top:16px;padding:0;} .jgustr dl dd{margin-bottom:16px;padding:0 16px;} .jgustr table{display:block;overflow:auto;width:100%;} .jgustr table th{font-weight:600;} .jgustr table td,.jgustr table th{border:1px solid #dfe2e5;padding:6px 13px;} .jgustr table tr{background-color:#fff;border-top:1px solid #c6cbd1;} .jgustr table tr:nth-child(2n){background-color:#f6f8fa;} .jgustr img{background-color:#fff;box-sizing:content-box;max-width:100%;} .jgustr img[align="right"]{padding-left:20px;} .jgustr img[align="left"]{padding-right:20px;} .jgustr code{background-color:rgba(27,31,35,0.05);border-radius:3px;font-size:85%;margin:0;padding:0.2em 0.4em;} .jgustr pre{word-wrap:normal;} .jgustr pre > code{background:transparent;border:0;font-size:100%;margin:0;padding:0;white-space:pre;word-break:normal;} .jgustr .highlight{margin-bottom:16px;} .jgustr .highlight pre{margin-bottom:0;word-break:normal;} .jgustr pre code{background-color:transparent;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0;word-wrap:normal;} .jgustr kbd{background-color:#fafbfc;border:1px solid #d1d5da;border-bottom-color:#c6cbd1;border-radius:3px;box-shadow:inset 0 -1px 0 #c6cbd1;color:#444d56;display:inline-block;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:10px;padding:3px 5px;vertical-align:middle;} .jgustr hr{border-bottom-color:#eee;}
/* sc-component-id: DocSidebar__DocSidebarLink-q7gj5k-0 */
.dqnNuP{font-size:1.25rem;display:block;-webkit-text-decoration:none;text-decoration:none;color:#D20101;font-weight:800;border:0 solid;padding:0.6em 1.8125em;border-radius:1.575rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0;font-weight:400;font-size:0.9em;} .dqnNuP.active{font-weight:800;}
/* sc-component-id: DocSidebar__DocSidebarContainer-q7gj5k-1 */
.iLjzWv{min-width:15em;border:solid 0 #d8d8d8;border-right-width:1px;padding:1em 2em 0 0;margin:0 2em 0 0;} .iLjzWv ul{margin-bottom:1.5em;} .iLjzWv li{color:#D20101;padding-left:0.855em;font-size:1.25em;padding:0.625em 0.4em;} .iLjzWv li li{list-style-type:circle;font-size:0.8em;} .iLjzWv li a{display:inline;}
/* sc-component-id: DocSidebar__CategoryTitle-q7gj5k-2 */
.chcaik{padding:0.5em;background-color:#f1f1f1;font-size:1em;color:#000;font-weight:700;}</style><link as="script" rel="preload" href="/webpack-runtime-3eb74113f0de359b1142.js"/><link as="script" rel="preload" href="/styles-0dd9b16d06f2e4f550cc.js"/><link as="script" rel="preload" href="/framework-917d7e60f740bb1d8b28.js"/><link as="script" rel="preload" href="/app-590f8732226d16909bd3.js"/><link as="script" rel="preload" href="/component---src-templates-doc-template-js-2aa7aea19903d805637a.js"/><link as="fetch" rel="preload" href="/page-data/docs/particles.md/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><main><div class="UI__Container-sc-1jeq2se-0 cSGNnN"><div class="UI__DocsStructure-sc-1jeq2se-2 cjJhep"><div class="DocSidebar__DocSidebarContainer-q7gj5k-1 iLjzWv"><ul><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/">Getting Started</a></li></ul><ul><div class="DocSidebar__CategoryTitle-q7gj5k-2 chcaik">Core Concepts</div><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/structure.md">Structure</a></li><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/game.md">Game Loop</a></li><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/components.md">Components</a></li><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/input.md">Input</a></li></ul><ul><div class="DocSidebar__CategoryTitle-q7gj5k-2 chcaik">Rendering</div><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/audio.md">General Audio</a></li><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/bgm.md">Looping Background Music</a></li></ul><ul><div class="DocSidebar__CategoryTitle-q7gj5k-2 chcaik">Other Modules</div><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/images.md">Images, Sprites and Animations</a></li><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/text.md">Text Rendering</a></li><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/palette.md">Colors and the Palette</a></li><li><a aria-current="page" class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP active" href="/docs/particles.md">Particles</a></li></ul><ul><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/util.md">Util</a></li><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/gamepad.md">Gamepad</a></li><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/widgets.md">Widgets</a></li><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/box2d.md">Box2D</a></li><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/tiled.md">Tiled</a></li><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/debug.md">Debugging</a></li><li><a class="UI__ButtonLink-sc-1jeq2se-1 DocSidebar__DocSidebarLink-q7gj5k-0 dqnNuP" href="/docs/splash_screen.md">Splash screen</a></li></ul></div><div class="MarkdownBody-dre1hu-0 jgustr"><h1 id="particles" style="position:relative;"><a href="#particles" aria-label="particles permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Particles</h1>
<p>Flame offers a basic, yet robust and extendable particle system. The core concept of this system is the <code class="language-text">Particle</code> class, which is very similar in its behavior to the <code class="language-text">ParticleComponent</code>.</p>
<p>The most basic usage of <code class="language-text">Particle</code> with <code class="language-text">BaseGame</code> would look as following:</p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flame/components/particle_component.dart'</span><span class="token punctuation">;</span>

<span class="token comment">// ... </span>

game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token comment">// Wrapping a [Particle] with [ParticleComponent]</span>
    <span class="token comment">// which maps [Component] lifecycle hooks to [Particle] ones</span>
    <span class="token comment">// and embeds a trigger for destroying the component.</span>
    <span class="token function">ParticleComponent</span><span class="token punctuation">(</span>
        particle<span class="token punctuation">:</span> <span class="token function">CircleParticle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>When using <code class="language-text">Particle</code> with custom <code class="language-text">Game</code> implementation, please ensure that <code class="language-text">Particle</code> <code class="language-text">update</code> and <code class="language-text">render</code> lifecycle hooks are called during each game loop frame.</p>
<p>Main approaches to implement desired particle effects:</p>
<ul>
<li>Composition of existing behaviors</li>
<li>Use behavior chaining (just a syntaxic sugar over first one)</li>
<li>Using <code class="language-text">ComputedParticle</code></li>
</ul>
<p>Composition works in a similar fashion to those of Flutter widgets by defining the effect from top to bottom. Chaining allows to express same composition trees more fluently by defining behaviors from bottom to top. Computed particles in their turn fully delegate implementation of the behavior to your code. Any of the approaches, though, could be used in conjunction with existing behaviors, where needed.</p>
<p>Below you can find an example of a effect showing a burst of circles, accelerating from <code class="language-text">(0, 0)</code> to a random directions using all three approaches defined above.</p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart">Random rnd <span class="token operator">=</span> <span class="token function">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Function randomOffset <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Offset</span><span class="token punctuation">(</span>
    rnd<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">200</span> <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span> 
    rnd<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">200</span> <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Composition</span>
<span class="token comment">// Defining particle effect as set of nested</span>
<span class="token comment">// behaviors from top to bottom, one within another: </span>
<span class="token comment">// ParticleComponent </span>
<span class="token comment">//   > ComposedParticle </span>
<span class="token comment">//     > AcceleratedParticle </span>
<span class="token comment">//       > CircleParticle</span>
game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token function">ParticleComponent</span><span class="token punctuation">(</span>
        particle<span class="token punctuation">:</span> Particle<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>
            count<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            generator<span class="token punctuation">:</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">AcceleratedParticle</span><span class="token punctuation">(</span>
                acceleration<span class="token punctuation">:</span> <span class="token function">randomOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                child<span class="token punctuation">:</span> <span class="token function">CircleParticle</span><span class="token punctuation">(</span>
                    paint<span class="token punctuation">:</span> <span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> Colors<span class="token punctuation">.</span>red
                <span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>    
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Chaining</span>
<span class="token comment">// Expresses same behavior structure as above, but with more</span>
<span class="token comment">// fluent API. Only [Particles] with [SingleChildParticle] mixin could</span>
<span class="token comment">// be used as chainable behaviors.</span>
game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    Particle
        <span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>
            count<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            generator<span class="token punctuation">:</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">CircleParticle</span><span class="token punctuation">(</span>paint<span class="token punctuation">:</span> <span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">accelerating</span><span class="token punctuation">(</span><span class="token function">randomOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">asComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Computed Particle</span>
<span class="token comment">// All the behavior is defined explicitly. Offers greater flexibility</span>
<span class="token comment">// compared to built-in behaviors.</span>
game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    Particle
        <span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>
            count<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            generator<span class="token punctuation">:</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">final</span> position <span class="token operator">=</span> Offset<span class="token punctuation">.</span>zero<span class="token punctuation">;</span>
                <span class="token keyword">final</span> speed <span class="token operator">=</span> Offset<span class="token punctuation">.</span>zero<span class="token punctuation">;</span>
                <span class="token keyword">final</span> acceleration <span class="token operator">=</span> <span class="token function">randomOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">final</span> paint <span class="token operator">=</span> <span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">;</span>

                <span class="token keyword">return</span>  <span class="token function">ComputedParticle</span><span class="token punctuation">(</span>
                    renderer<span class="token punctuation">:</span> <span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        speed <span class="token operator">+=</span> acceleration<span class="token punctuation">;</span>
                        position <span class="token operator">+=</span> speed<span class="token punctuation">;</span>
                        canvas<span class="token punctuation">.</span><span class="token function">drawCircle</span><span class="token punctuation">(</span>position<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">asComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span></code></pre></div>
<p>You can find more examples of using different built-int particles in various combinations <a href="https://github.com/flame-engine/flame/blob/master/doc/examples/particles/lib/main.dart">here</a>.</p>
<h2 id="lifecycle" style="position:relative;"><a href="#lifecycle" aria-label="lifecycle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Lifecycle</h2>
<p>Behavior common to all <code class="language-text">Particle</code>s is that all of them accept <code class="language-text">lifespan</code> parameter. This value is used to make <code class="language-text">ParticleCoponent</code> self-destoy, once its internal <code class="language-text">Particle</code> has reached the end of its life. Time within the <code class="language-text">Particle</code> itself is tracked using the Flame <code class="language-text">Timer</code>. It could be configured with <code class="language-text">double</code>, representing seconds (with microsecond precision)by passing it into the corresponding <code class="language-text">Particle</code> constructor. </p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart"><span class="token function">Particle</span><span class="token punctuation">(</span>lifespan<span class="token punctuation">:</span> <span class="token number">.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will live for 200ms</span>
<span class="token function">Particle</span><span class="token punctuation">(</span>lifespan<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will live for 4s</span></code></pre></div>
<p>It is also possible to reset <code class="language-text">Particle</code> lifespan by using <code class="language-text">setLifespan</code> method, which accepts a <code class="language-text">double</code> of seconds. </p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart"><span class="token keyword">final</span> particle <span class="token operator">=</span> <span class="token function">Particle</span><span class="token punctuation">(</span>lifespan<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ... at some point of time later</span>
particle<span class="token punctuation">.</span><span class="token function">setLifespan</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// will live for another 2s from this moment</span></code></pre></div>
<p>During its lifetime, <code class="language-text">Particle</code> tracks the time it was alive and exposes it with <code class="language-text">progress</code> getter, which is a unit double, which values are always spanning from 0 to 1. Its value could be used in a similar fashion as <code class="language-text">value</code> of <code class="language-text">AnimationController</code> in Flutter.</p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart"><span class="token keyword">final</span> duration <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> particle <span class="token operator">=</span> <span class="token function">Particle</span><span class="token punctuation">(</span>lifespan<span class="token punctuation">:</span> duration<span class="token punctuation">.</span>inMicroseconds <span class="token operator">/</span> Durations<span class="token punctuation">.</span>microsecondsPerSecond<span class="token punctuation">)</span><span class="token punctuation">;</span>

game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">ParticleComponent</span><span class="token punctuation">(</span>particle<span class="token punctuation">:</span> particle<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Will print values from 0 to 1 with step of .1: 0, 0.1, 0.2 ... 0.9, 1.0</span>
Timer<span class="token punctuation">.</span><span class="token function">periodic</span><span class="token punctuation">(</span>duration <span class="token operator">*</span> <span class="token number">.1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">print</span><span class="token punctuation">(</span>particle<span class="token punctuation">.</span>progress<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Lifespan is passed down to all the descendants of given <code class="language-text">Particle</code> if it supports any of the nesting behaviors.</p>
<h2 id="built-in-particles" style="position:relative;"><a href="#built-in-particles" aria-label="built in particles permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Built-in particles</h2>
<p>Flame ships with a few built-in <code class="language-text">Particle</code> behaviors:</p>
<ul>
<li>The <code class="language-text">TranslatedParticle</code>, translates its <code class="language-text">child</code> by given <code class="language-text">Offset</code></li>
<li>The <code class="language-text">MovingParticle</code>, moves its <code class="language-text">child</code> between two predefined <code class="language-text">Offset</code>, supports <code class="language-text">Curve</code></li>
<li>The <code class="language-text">AcceleratedParticle</code>, allows basic physics based effects, like gravitation or speed dampening</li>
<li>The <code class="language-text">CircleParticle</code>, renders circles of all shapes and sizes</li>
<li>The <code class="language-text">SpriteParticle</code>, renders Flame <code class="language-text">Sprite</code> within a <code class="language-text">Particle</code> effect</li>
<li>The <code class="language-text">ImageParticle</code>, renders <em>dart:ui</em> <code class="language-text">Image</code> within a <code class="language-text">Particle</code> effect</li>
<li>The <code class="language-text">ComponentParticle</code>, renders Flame <code class="language-text">Component</code> within a <code class="language-text">Particle</code> effect</li>
<li>The <code class="language-text">FlareParticle</code>, renders Flare animation within a <code class="language-text">Particle</code> effect</li>
</ul>
<p>More examples of using these behaviors together are available <a href="https://github.com/flame-engine/flame/blob/master/doc/examples/particles/lib/main.dart">here</a>. All the implementations are available in <a href="https://github.com/flame-engine/flame/blob/master/lib/particles">particles</a> folder in Flame sources.</p>
<h2 id="translated-particle" style="position:relative;"><a href="#translated-particle" aria-label="translated particle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Translated Particle</h2>
<p>Simply translates underlying <code class="language-text">Particle</code> to a specified <code class="language-text">Offset</code> within the rendering <code class="language-text">Canvas</code>.
Does not change or alter its position, consider using <code class="language-text">MovingParticle</code> or <code class="language-text">AcceleratedParticle</code> where change of position is required.
Same effect could be achieved by translating <code class="language-text">Canvas</code> layer.</p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token function">ParticleComponent</span><span class="token punctuation">(</span>
        particle<span class="token punctuation">:</span> <span class="token function">TranslatedParticle</span><span class="token punctuation">(</span>
            <span class="token comment">// Will translate child Particle effect to</span>
            <span class="token comment">// the center of game canvas</span>
            offset<span class="token punctuation">:</span> game<span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span>Offset<span class="token punctuation">.</span>zero<span class="token punctuation">)</span><span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token function">Particle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="moving-particle" style="position:relative;"><a href="#moving-particle" aria-label="moving particle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Moving Particle</h2>
<p>Moves child <code class="language-text">Particle</code> between <code class="language-text">from</code> and <code class="language-text">to</code> <code class="language-text">Offset</code>s during its lifespan. Supports <code class="language-text">Curve</code> via <code class="language-text">CurvedParticle</code>.</p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token function">ParticleComponent</span><span class="token punctuation">(</span>
        particle<span class="token punctuation">:</span> <span class="token function">MovingParticle</span><span class="token punctuation">(</span>
            <span class="token comment">// Will move from corner to corner of the</span>
            <span class="token comment">// game canvas</span>
            from<span class="token punctuation">:</span> game<span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">topLeft</span><span class="token punctuation">(</span>Offset<span class="token punctuation">.</span>zero<span class="token punctuation">)</span><span class="token punctuation">,</span>
            to<span class="token punctuation">:</span> game<span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">bottomRight</span><span class="token punctuation">(</span>Offset<span class="token punctuation">.</span>zero<span class="token punctuation">)</span><span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token function">Particle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="accelerated-particle" style="position:relative;"><a href="#accelerated-particle" aria-label="accelerated particle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Accelerated Particle</h2>
<p>A basic physics particle which allows you to specify its initial <code class="language-text">position</code>, <code class="language-text">speed</code> and <code class="language-text">acceleration</code> and let <code class="language-text">update</code> cycle do the rest. All three specified as <code class="language-text">Offset</code>s,
which you can think of as vectors. Works especially well for physics-based "bursts", but not limited to that.
Unit of the <code class="language-text">Offset</code> value is <em>logical px/s</em>. So a speed of <code class="language-text">Offset(0, 100)</code> will move a child <code class="language-text">Particle</code> by 100 logical pixels of the device every second of game time.</p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart"><span class="token keyword">final</span> rnd <span class="token operator">=</span> <span class="token function">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token function">ParticleComponent</span><span class="token punctuation">(</span>
        particle<span class="token punctuation">:</span> <span class="token function">AcceleratedParticle</span><span class="token punctuation">(</span>
            <span class="token comment">// Will fire off in the center of game canvas</span>
            position<span class="token punctuation">:</span> game<span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">center</span><span class="token punctuation">(</span>Offset<span class="token punctuation">.</span>zero<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// With random initial speed of Offset(-100..100, 0..-100)</span>
            speed<span class="token punctuation">:</span> <span class="token function">Offset</span><span class="token punctuation">(</span>rnd<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">200</span> <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token operator">-</span>rnd<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">// Accelerating downwards, simulating "gravity"</span>
            speed<span class="token punctuation">:</span> <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token function">Particle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="circle-particle" style="position:relative;"><a href="#circle-particle" aria-label="circle particle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Circle Particle</h2>
<p>A <code class="language-text">Particle</code> which renders circle with given <code class="language-text">Paint</code> at the zero offset of passed <code class="language-text">Canvas</code>. Use in conjunction with <code class="language-text">TranslatedParticle</code>, <code class="language-text">MovingParticle</code> or <code class="language-text">AcceleratedParticle</code>
in order to achieve desired positioning.</p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token function">ParticleComponent</span><span class="token punctuation">(</span>
        particle<span class="token punctuation">:</span> <span class="token function">CircleParticle</span><span class="token punctuation">(</span>
            radius<span class="token punctuation">:</span> game<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
            paint<span class="token punctuation">:</span> <span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">.</span><span class="token function">withOpacity</span><span class="token punctuation">(</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="sprite-particle" style="position:relative;"><a href="#sprite-particle" aria-label="sprite particle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sprite Particle</h2>
<p>Allows you to embed Flame's <code class="language-text">Sprite</code> into your particle effects. Useful when consuming graphics for the effect from <code class="language-text">SpriteSheet</code>.</p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token function">ParticleComponent</span><span class="token punctuation">(</span>
        particle<span class="token punctuation">:</span> <span class="token function">SpriteParticle</span><span class="token punctuation">(</span>
          sprite<span class="token punctuation">:</span> <span class="token function">Sprite</span><span class="token punctuation">(</span><span class="token string">'sprite.png'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          size<span class="token punctuation">:</span> <span class="token function">Position</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="image-particle" style="position:relative;"><a href="#image-particle" aria-label="image particle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Image Particle</h2>
<p>Renders given <code class="language-text">dart:ui</code> image within the particle tree. </p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart"><span class="token comment">// During game initialisation</span>
<span class="token keyword">await</span> Flame<span class="token punctuation">.</span>images<span class="token punctuation">.</span><span class="token function">loadAll</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>
    <span class="token string">'image.png'</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token comment">// Somewhere during the game loop</span>
game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token function">ParticleComponent</span><span class="token punctuation">(</span>
        particle<span class="token punctuation">:</span> <span class="token function">ImageParticle</span><span class="token punctuation">(</span>
          size<span class="token punctuation">:</span> <span class="token keyword">const</span> Size<span class="token punctuation">.</span><span class="token function">square</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          image<span class="token punctuation">:</span> Flame<span class="token punctuation">.</span>images<span class="token punctuation">.</span>loadedFiles<span class="token punctuation">[</span><span class="token string">'image.png'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="animation-particle" style="position:relative;"><a href="#animation-particle" aria-label="animation particle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Animation Particle</h2>
<p>A <code class="language-text">Particle</code> which embeds Flame <code class="language-text">Animation</code>. By default, aligns <code class="language-text">Animation</code>s <code class="language-text">stepTime</code> so that it's fully played during <code class="language-text">Particle</code> lifespan. It's possible to override this behavior with <code class="language-text">alignAnimationTime</code> parameter.</p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart"><span class="token keyword">final</span> spritesheet <span class="token operator">=</span> <span class="token function">SpriteSheet</span><span class="token punctuation">(</span>
  imageName<span class="token punctuation">:</span> <span class="token string">'spritesheet.png'</span><span class="token punctuation">,</span>
  textureWidth<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  textureHeight<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  columns<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  rows<span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token function">ParticleComponent</span><span class="token punctuation">(</span>
        particle<span class="token punctuation">:</span> <span class="token function">AnimationParticle</span><span class="token punctuation">(</span>
          animation<span class="token punctuation">:</span> spritesheet<span class="token punctuation">.</span><span class="token function">createAnimation</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> stepTime<span class="token punctuation">:</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="component-particle" style="position:relative;"><a href="#component-particle" aria-label="component particle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Component Particle</h2>
<p>This <code class="language-text">Particle</code> allows you to embed Flame <code class="language-text">Component</code> within the particle effects. <code class="language-text">Component</code> could have it's own <code class="language-text">update</code> lifecycle and
could be reused across different effect trees. If the only thing you need is to add some dynamics to an instance of certain <code class="language-text">Component</code>, please consider
adding it to the <code class="language-text">game</code> directly, without the <code class="language-text">Particle</code> in the middle.</p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> longLivingRect <span class="token operator">=</span> <span class="token function">RectComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token function">ParticleComponent</span><span class="token punctuation">(</span>
        particle<span class="token punctuation">:</span> <span class="token function">ComponentParticle</span><span class="token punctuation">(</span>
          component<span class="token punctuation">:</span> longLivingRect
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">RectComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">render</span><span class="token punctuation">(</span>Canvas c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        c<span class="token punctuation">.</span><span class="token function">drawRect</span><span class="token punctuation">(</span>
            Rect<span class="token punctuation">.</span><span class="token function">fromCenter</span><span class="token punctuation">(</span>center<span class="token punctuation">:</span> Offset<span class="token punctuation">.</span>zero<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
            <span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> Colors<span class="token punctuation">.</span>red
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span>double dt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/// Will be called by parent [Particle]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h2 id="flare-particle" style="position:relative;"><a href="#flare-particle" aria-label="flare particle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flare Particle</h2>
<p>A container for <code class="language-text">FlareAnimation</code>, propagates <code class="language-text">update</code> and <code class="language-text">render</code> hooks to its child.</p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart"><span class="token comment">// During game initialisation</span>
<span class="token keyword">const</span> flareSize <span class="token operator">=</span> <span class="token number">32.0</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> flareAnimation <span class="token operator">=</span> <span class="token keyword">await</span> FlareAnimation<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">'assets/sparkle.flr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
flareAnimation<span class="token punctuation">.</span><span class="token function">updateAnimation</span><span class="token punctuation">(</span><span class="token string">'Shine'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
flareAnimation<span class="token punctuation">.</span>width <span class="token operator">=</span> flareSize<span class="token punctuation">;</span>
flareAnimation<span class="token punctuation">.</span>height <span class="token operator">=</span> flareSize<span class="token punctuation">;</span>

<span class="token comment">// Somewhere in game</span>
game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token function">ParticleComponent</span><span class="token punctuation">(</span>
        particle<span class="token punctuation">:</span> <span class="token function">FlareParticle</span><span class="token punctuation">(</span>flare<span class="token punctuation">:</span> flareAnimation<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="computed-particle" style="position:relative;"><a href="#computed-particle" aria-label="computed particle permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Computed Particle</h2>
<p>A <code class="language-text">Particle</code> which could help you when:</p>
<ul>
<li>Default behavior is not enough</li>
<li>Complex effects optimization</li>
<li>Custom easings</li>
</ul>
<p>When created, delegates all the rendering to a supplied <code class="language-text">ParticleRenderDelegate</code> which is called on each frame
to perform necessary computations and render something to the <code class="language-text">Canvas</code></p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart">game<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token function">ParticleComponent</span><span class="token punctuation">(</span>
        <span class="token comment">// Renders a circle which gradually</span>
        <span class="token comment">// changes its color and size during the particle lifespan</span>
        particle<span class="token punctuation">:</span> <span class="token function">ComputedParticle</span><span class="token punctuation">(</span>
            renderer<span class="token punctuation">:</span> <span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> particle<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> canvas<span class="token punctuation">.</span><span class="token function">drawCircle</span><span class="token punctuation">(</span>
                Offset<span class="token punctuation">.</span>zero<span class="token punctuation">,</span>
                particle<span class="token punctuation">.</span>progress <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">,</span>
                <span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                  <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> Color<span class="token punctuation">.</span><span class="token function">lerp</span><span class="token punctuation">(</span>
                    Colors<span class="token punctuation">.</span>red<span class="token punctuation">,</span>
                    Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span>
                    particle<span class="token punctuation">.</span>progress<span class="token punctuation">,</span>
                  <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span></code></pre></div>
<h2 id="nesting-behavior" style="position:relative;"><a href="#nesting-behavior" aria-label="nesting behavior permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Nesting behavior</h2>
<p>Flame's implementation of particles follows same pattern of extreme composition as Flutter widgets. That
is achieved by incapsulating small pieces of behavior in every of particles and then nesting these behaviors together to achieve desired visual effect.</p>
<p>Two entities allowing <code class="language-text">Particle</code> to nest each other are: <code class="language-text">SingleChildParticle</code> mixin and <code class="language-text">ComposedParticle</code> class.</p>
<p><code class="language-text">SingleChildParticle</code> may help you with creating <code class="language-text">Particles</code> with a custom behavior,
for example, randomly positioning it's child during each frame:</p>
<div class="gatsby-highlight" data-language="dart"><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> rnd <span class="token operator">=</span> <span class="token function">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">GlitchParticle</span> <span class="token keyword">extends</span> <span class="token class-name">Particle</span> <span class="token keyword">with</span> SingleChildParticle <span class="token punctuation">{</span>
    <span class="token metadata symbol">@override</span>
    Particle child<span class="token punctuation">;</span>

    <span class="token function">GlitchParticle</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token metadata symbol">@required</span> <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span>
      double lifespan<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>lifespan<span class="token punctuation">:</span> lifespan<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token metadata symbol">@override</span>
    <span class="token function">render</span><span class="token punctuation">(</span>Canvas canvas<span class="token punctuation">)</span>  <span class="token punctuation">{</span>
        canvas<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        canvas<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>rnd<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> rnd<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Will also render the child</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        canvas<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><code class="language-text">ComposedParticle</code> could be used either as standalone or within existing <code class="language-text">Particle</code> tree. </p></div></div></div></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/docs/particles.md";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-590f8732226d16909bd3.js"],"component---src-pages-index-js":["/component---src-pages-index-js-f45af12388b89b811908.js"],"component---src-templates-doc-template-js":["/component---src-templates-doc-template-js-2aa7aea19903d805637a.js"]};/*]]>*/</script><script src="/component---src-templates-doc-template-js-2aa7aea19903d805637a.js" async=""></script><script src="/app-590f8732226d16909bd3.js" async=""></script><script src="/framework-917d7e60f740bb1d8b28.js" async=""></script><script src="/styles-0dd9b16d06f2e4f550cc.js" async=""></script><script src="/webpack-runtime-3eb74113f0de359b1142.js" async=""></script></body></html>