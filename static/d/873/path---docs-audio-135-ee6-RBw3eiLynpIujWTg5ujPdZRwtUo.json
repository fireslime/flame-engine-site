{"data":{"markdownRemark":{"html":"<h1>Audio</h1>\n<p>To play an audio, it's really simple! Just run, at any moment:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token keyword\">import</span> <span class=\"token string\">'package:flame/flame.dart'</span><span class=\"token punctuation\">;</span>\n\nFlame<span class=\"token punctuation\">.</span>audio<span class=\"token punctuation\">.</span><span class=\"token function\">play</span><span class=\"token punctuation\">(</span><span class=\"token string\">'explosion.mp3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Or, if you prefer:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token keyword\">import</span> <span class=\"token string\">'package:flame/audio.dart'</span><span class=\"token punctuation\">;</span>\n\nAudio audio <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Audio</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\naudio<span class=\"token punctuation\">.</span><span class=\"token function\">play</span><span class=\"token punctuation\">(</span><span class=\"token string\">'explosion.mp3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The difference is that each instance shares a different cache. Normally you would want to use the <code class=\"language-text\">Flame.audio</code> instance and totally share the cache.</p>\n<p>You must have an appropriate folder structure and add the files to the <code class=\"language-text\">pubspec.yaml</code> file, as explained above.</p>\n<p>It can be an MP3, OGG or a WAV file (those are the ones I tested and it worked)</p>\n<p>This uses the <a href=\"https://github.com/luanpotter/audioplayer\">audioplayers</a> lib, in order to allow playing multiple sounds simultaneously (crucial in a game). You can check the link for more in-depth explanations.</p>\n<p>If you want to play indefinitely, just use <code class=\"language-text\">loop</code> function:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">    Flame<span class=\"token punctuation\">.</span>audio<span class=\"token punctuation\">.</span><span class=\"token function\">loop</span><span class=\"token punctuation\">(</span><span class=\"token string\">'music.mp3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Finally, you can pre-load your audios. Audios need to be stored in the memory the first time they are requested; therefore, the first time you play each mp3 you might get a delay. In order to pre-load your audios, just use:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">    Flame<span class=\"token punctuation\">.</span>audio<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token string\">'explosion.mp3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>You can load all your audios in beginning so that they always play smoothly; to load multiple audios, use the <code class=\"language-text\">loadAll</code> method:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">    Flame<span class=\"token punctuation\">.</span>audio<span class=\"token punctuation\">.</span><span class=\"token function\">loadAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'explosion.mp3'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'music.mp3'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Finally, you can use the <code class=\"language-text\">clear</code> method to remove something from the cache:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">    Flame<span class=\"token punctuation\">.</span>audio<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token string\">'explosion.mp3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>There is also a <code class=\"language-text\">clearAll</code> method, that clears the whole cache.</p>\n<p>This might be useful if, for instance, your game has multiple levels and each has a different soundtrack.</p>\n<p>Both load methods return a <code class=\"language-text\">Future</code> for the <code class=\"language-text\">File</code>s loaded.</p>\n<p>Both on <code class=\"language-text\">play</code> and <code class=\"language-text\">loop</code> you can pass an additional optional double parameter, the <code class=\"language-text\">volume</code> (defaults to <code class=\"language-text\">1.0</code>).</p>\n<p>Both the <code class=\"language-text\">play</code> and <code class=\"language-text\">loop</code> methods return an instance of a <code class=\"language-text\">AudioPlayer</code> from the <a href=\"https://github.com/luanpotter/audioplayer\">audioplayers</a> lib, that allows you to stop, pause and configure other specifications.</p>\n<p>There's lots of logs; that's reminiscent of the original AudioPlayer plugin. Useful while debug, but afterwards you can disable them with:</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">    Flame<span class=\"token punctuation\">.</span>audio<span class=\"token punctuation\">.</span><span class=\"token function\">disableLog</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","frontmatter":{"path":"/docs/audio","title":"Audio"}}},"pageContext":{}}